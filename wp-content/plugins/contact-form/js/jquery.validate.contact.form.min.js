function scrollTo(s){jQuery("html,body").animate({scrollTop:jQuery(s).offset().top},"slow")}function isScrolledIntoView(s){var e=jQuery(window).scrollTop(),r=e+jQuery(window).height(),o=jQuery(s).offset().top,c=o+jQuery(s).height();return r>=c&&o>=e}jQuery(document).ready(function(s){var e=s("#cscf"),r=e.find("#frmCSCF");r.find("#recaptcha_response_field").focus(function(){$errele=r.find("div[for='cscf_recaptcha']"),$errele.html("")}),r.validate({errorElement:"span",highlight:function(e){s(e).closest(".form-group").removeClass("has-success").addClass("has-error"),s(e).closest(".control-group").removeClass("success").addClass("error")},unhighlight:function(e){s(e).closest(".form-group").removeClass("has-error").addClass("has-success"),s(e).closest(".control-group").removeClass("error").addClass("success")}}),r.submit(function(o){$button=s(this).find("button"),$button.attr("disabled","disabled"),o.preventDefault(),r.validate().valid()&&s.ajax({type:"post",dataType:"json",cache:!1,url:cscfvars.ajaxurl,data:s(r).serialize()+"&action=cscf-submitform",success:function(o){o.valid===!0?($formdiv=e.find(".cscfForm"),$formdiv.css("display","none"),$messagediv=e.find(".cscfMessageSent"),o.sent===!1&&($messagediv=e.find(".cscfMessageNotSent")),$messagediv.css("display","block"),0==isScrolledIntoView(e)&&scrollTo(e.selector)):s.each(o.errorlist,function(s,e){$errele=r.find("div[for='cscf_"+s+"']"),$errele.html(e),$errele.closest(".form-group").removeClass("has-success").addClass("has-error"),$errele.closest(".control-group").removeClass("success").addClass("error")})},error:function(s,e,r){window.console&&console.log("Status: "+e+"Error: "+r+"Response: "+s.responseText)}}),$button.removeAttr("disabled")})});